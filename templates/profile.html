{% extends "base.html" %}
{% block title %}Hồ sơ cá nhân{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px; margin: 0 auto;">
    <h2 style="text-align: center; margin-bottom: 30px; color: #667eea;">Hồ sơ cá nhân</h2>
    
    <div style="text-align: center; margin-bottom: 30px;">
        {% if user.avatar %}
            <img src="{{ url_for('static', filename='uploads/' + user.avatar) }}" 
                 style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid #f0f0f0; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
        {% else %}
            <div style="width: 120px; height: 120px; border-radius: 50%; background: #eee; display: flex; align-items: center; justify-content: center; font-size: 40px; font-weight: bold; color: #555; margin: 0 auto;">
                {{ user.name[0] | upper }}
            </div>
        {% endif %}
        <p style="color: #666; margin-top: 10px; font-weight: 500;">{{ user.email }}</p>
    </div>

    <form action="{{ url_for('update_profile') }}" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label>Họ và tên</label>
            <input type="text" name="name" class="form-control" value="{{ user.name }}" required>
        </div>
        
        <div class="form-group">
            <label>Số điện thoại</label>
            <input type="text" name="phone" class="form-control" value="{{ user.phone or '' }}" placeholder="Nhập số điện thoại">
        </div>

        <div class="form-group">
            <label>Địa chỉ</label>
            <input type="text" name="address" class="form-control" value="{{ user.address or '' }}" placeholder="Nhập địa chỉ">
        </div>

        <div class="form-group">
            <label>Đổi ảnh đại diện</label>
            <input type="file" name="avatar" class="form-control" accept="image/*">
            <small style="color: #888; font-style: italic;">Hỗ trợ: .jpg, .png, .jpeg (Tối đa 5MB)</small>
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px; padding: 12px;">Lưu thay đổi</button>
    </form>
</div>
{% endblock %}